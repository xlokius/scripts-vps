services:
  wg-easy:
    image: ghcr.io/wg-easy/wg-easy
    container_name: wg-easy
    restart: unless-stopped

    environment:
      # ğŸ” EDITAR: contrasenÌƒa de la interfaz web
      - PASSWORD_HASH=$$2a$$10$$WF1Hc8ELc.GLKplccbkLmeYbskh4SIPxNLLnVZ1sUpfLmf.CUak3O

      # ğŸŒ EDITAR: IP puÌblica o dominio de tu VPS
      - WG_HOST=$(MY_IP)

      # ğŸ”Œ Puerto WireGuard (UDP)
      - WG_PORT=51820

      # ğŸŒ Puerto de la interfaz web
      - WG_UI_PORT=51821

      # ğŸ“¡ DNS para los clientes
      - WG_DEFAULT_DNS=1.1.1.1,8.8.8.8

      # ğŸ§  Rango de IPs para clientes
      - WG_DEFAULT_ADDRESS=10.8.0.x

      # ğŸš€ MTU recomendado en VPS
      - WG_MTU=1420

    volumes:
      - ./wg-easy:/etc/wireguard

    ports:
      - "51820:51820/udp"
      - "51821:51821/tcp"

    cap_add:
      - NET_ADMIN
      - SYS_MODULE

    sysctls:
      - net.ipv4.ip_forward=1
      - net.ipv4.conf.all.src_valid_mark=1
